# OpenAPI
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/docs

# Datasource
quarkus.datasource.db-kind=postgresql
%dev.quarkus.datasource.jdbc.url=jdbc:postgresql://${POSTGRES_HOST:localhost}:${POSTGRES_PORT:5432}/${POSTGRES_DB:smoothtravel}
%dev.quarkus.datasource.username=${POSTGRES_USER:smoothtravel}
%dev.quarkus.datasource.password=${POSTGRES_PASSWORD:smoothtravel}
%prod.quarkus.datasource.jdbc.url=jdbc:postgresql://${POSTGRES_HOST}:${POSTGRES_PORT:5432}/${POSTGRES_DB}
%prod.quarkus.datasource.username=${POSTGRES_USER}
%prod.quarkus.datasource.password=${POSTGRES_PASSWORD}

# Mailer (SMTP)
%dev.quarkus.mailer.host=${SMTP_HOST:localhost}
%dev.quarkus.mailer.port=${SMTP_PORT:1025}
%dev.quarkus.mailer.username=${SMTP_USERNAME:}
%dev.quarkus.mailer.password=${SMTP_PASSWORD:}
%dev.quarkus.mailer.from=${SMTP_FROM:noreply@smoothtravel.com}
%dev.quarkus.mailer.start-tls=DISABLED
%dev.quarkus.mailer.mock=false

%prod.quarkus.mailer.host=${SMTP_HOST}
%prod.quarkus.mailer.port=${SMTP_PORT:587}
%prod.quarkus.mailer.username=${SMTP_USERNAME}
%prod.quarkus.mailer.password=${SMTP_PASSWORD}
%prod.quarkus.mailer.from=${SMTP_FROM}
%prod.quarkus.mailer.start-tls=REQUIRED

# Redis
%dev.quarkus.redis.hosts=redis://${REDIS_HOST:localhost}:${REDIS_PORT:6379}
%prod.quarkus.redis.hosts=redis://${REDIS_HOST}:${REDIS_PORT:6379}

# Hibernate
quarkus.hibernate-orm.schema-management.strategy=none

# Flyway
quarkus.flyway.migrate-at-start=true

# JWT
mp.jwt.verify.issuer=smoothtravel
%dev.mp.jwt.verify.publickey.location=publicKey.pem
%dev.smallrye.jwt.sign.key.location=privateKey.pem
%test.mp.jwt.verify.publickey.location=publicKey.pem
%test.smallrye.jwt.sign.key.location=privateKey.pem
%prod.mp.jwt.verify.publickey.location=${JWT_PUBLIC_KEY_LOCATION}
%prod.smallrye.jwt.sign.key.location=${JWT_PRIVATE_KEY_LOCATION}

# WebAuthn
%dev.app.webauthn.rp-id=localhost
%dev.app.webauthn.rp-name=SmoothTravel
%dev.app.webauthn.origin=http://localhost:3000
%test.app.webauthn.rp-id=localhost
%test.app.webauthn.rp-name=SmoothTravel
%test.app.webauthn.origin=http://localhost:3000
%prod.app.webauthn.rp-id=${WEBAUTHN_RP_ID}
%prod.app.webauthn.rp-name=${WEBAUTHN_RP_NAME:SmoothTravel}
%prod.app.webauthn.origin=${WEBAUTHN_ORIGIN}

# CORS
%dev.quarkus.http.cors.enabled=true
%dev.quarkus.http.cors.origins=http://localhost:3000
%dev.quarkus.http.cors.methods=GET,POST,PUT,DELETE,OPTIONS
%dev.quarkus.http.cors.headers=Content-Type,Authorization
%dev.quarkus.http.cors.exposed-headers=Location

# HTTP Auth
quarkus.http.auth.permission.cors-preflight.paths=/api/*
quarkus.http.auth.permission.cors-preflight.policy=permit
quarkus.http.auth.permission.cors-preflight.methods=OPTIONS

quarkus.http.auth.permission.public-auth.paths=/api/v1/auth/register,/api/v1/auth/register/verify,/api/v1/auth/login,/api/v1/auth/login/verify,/api/v1/auth/resend-code
quarkus.http.auth.permission.public-auth.policy=permit
quarkus.http.auth.permission.public-auth.methods=POST
quarkus.http.auth.permission.public-passkey-auth.paths=/api/v1/passkeys/auth/*
quarkus.http.auth.permission.public-passkey-auth.policy=permit

quarkus.http.auth.permission.default-authenticated.paths=/api/*
quarkus.http.auth.permission.default-authenticated.policy=authenticated
